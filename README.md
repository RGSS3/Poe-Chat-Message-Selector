# Poe-Chat-Message-Selector

一个用于 Poe.com 的消息选择、过滤和导出工具。

## 功能特点

- 💡 消息可视化指示器
  - 圆形表示AI消息，方形表示用户消息
  - 亮色表示已选择，暗色表示未选择
  - 当前选中消息有特殊标记
  - 悬停显示消息预览
  - 点击跳转到对应消息

- 🔍 高级过滤功能
  - 三层正则表达式过滤（两个包含规则，一个排除规则）
  - AI消息过滤开关
  - 实时过滤预览

- ✨ 灵活的选择操作
  - 全选/全不选
  - 反向选择
  - 从当前位置选择后续消息
  - 点击任意消息设置起始位置

- 📤 导出功能
  - 导出选中消息
  - 导出全部消息（符合过滤条件的）
  - 自定义AI和用户名称
  - 保留对话标题

## 安装说明

1. 安装 Tampermonkey 浏览器扩展
2. 点击[这里](链接到您的脚本)安装脚本
3. 访问 Poe.com，脚本会自动运行

## 使用说明

1. 打开任意 Poe 对话页面
2. 在右上角找到控制面板
3. 可选：设置过滤条件
   - 输入正则表达式进行内容过滤
   - 勾选"仅选择AI消息"进行角色过滤
4. 选择消息
   - 点击消息设置起始位置
   - 使用面板上的按钮进行批量选择
5. 导出对话
   - 点击"导出选中"导出已选择的消息
   - 点击"导出全部"导出所有符合条件的消息

## 使用示例

### 正则表达式过滤示例

1. 只包含问题的消息：

```
.*问题.*
```

2. 排除错误信息：

```
.*error.*|.*错误.*
```

3. 只保留包含代码的消息：

```
.*```.*
```

## 注意事项

- 正则表达式规则按从上到下的优先级处理
- 留空的正则表达式输入框不参与过滤
- 导出文件将保存为纯文本格式(.txt)
- 消息指示器会在页面加载完成后自动初始化

## 开发说明

代码基于 JavaScript ES6+ 开发，使用原生 DOM API，不依赖外部库。

### 自定义开发

如需修改或扩展功能：

1. 克隆仓库
2. 修改脚本内容
3. 使用 Tampermonkey 的开发者模式测试

## 许可证

MIT License

Copyright (c) 2025 Rabix(rgss3@github)

## 免责声明

本工具仅用于便利用户导出自己的对话内容，请遵守 Poe.com 的服务条款和使用规范。
